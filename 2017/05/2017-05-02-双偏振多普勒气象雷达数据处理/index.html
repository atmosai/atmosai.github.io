<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>双偏振多普勒气象雷达数据处理 | bugsuse</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta name=Description content="About LoveIt Theme"><link rel=prev href=https://atmosai.github.io/2017/04/2017-04-10-f2py-%E8%BF%9E%E6%8E%A5fortran%E5%92%8Cpython%E7%9A%84%E6%A1%A5%E6%A2%81/><link rel=next href=https://atmosai.github.io/2017/06/2017-06-01-%E5%9F%BA%E4%BA%8Epython%E7%9A%84wrf%E6%A8%A1%E5%BC%8F%E5%90%8E%E5%A4%84%E7%90%86/><link rel=canonical href=https://atmosai.github.io/2017/05/2017-05-02-%E5%8F%8C%E5%81%8F%E6%8C%AF%E5%A4%9A%E6%99%AE%E5%8B%92%E6%B0%94%E8%B1%A1%E9%9B%B7%E8%BE%BE%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/><link rel="shortcut icon" type=image/x-icon href=/img/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon-16x16.png><link rel=manifest href=/img/site.webmanifest><link rel=mask-icon href=/img/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta property="og:title" content="双偏振多普勒气象雷达数据处理"><meta property="og:description" content="C波段双线偏振多普勒天气雷达是目前国内最先进的雷达系统，采用高相位稳定的全相参脉冲多普勒和同时发射同时接收的双线偏振体制，具有高增益低副瓣天"><meta property="og:type" content="article"><meta property="og:url" content="https://atmosai.github.io/2017/05/2017-05-02-%E5%8F%8C%E5%81%8F%E6%8C%AF%E5%A4%9A%E6%99%AE%E5%8B%92%E6%B0%94%E8%B1%A1%E9%9B%B7%E8%BE%BE%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/"><meta property="article:published_time" content="2017-05-02T17:35:55+08:00"><meta property="article:modified_time" content="2017-05-02T17:35:55+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="双偏振多普勒气象雷达数据处理"><meta name=twitter:description content="C波段双线偏振多普勒天气雷达是目前国内最先进的雷达系统，采用高相位稳定的全相参脉冲多普勒和同时发射同时接收的双线偏振体制，具有高增益低副瓣天"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"双偏振多普勒气象雷达数据处理","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/atmosai.github.io\/2017\/05\/2017-05-02-%E5%8F%8C%E5%81%8F%E6%8C%AF%E5%A4%9A%E6%99%AE%E5%8B%92%E6%B0%94%E8%B1%A1%E9%9B%B7%E8%BE%BE%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86\/"},"image":{"@type":"ImageObject","url":"https:\/\/atmosai.github.io\/cover.png","width":800,"height":600},"genre":"posts","keywords":"python, radar","wordcount":1185,"url":"https:\/\/atmosai.github.io\/2017\/05\/2017-05-02-%E5%8F%8C%E5%81%8F%E6%8C%AF%E5%A4%9A%E6%99%AE%E5%8B%92%E6%B0%94%E8%B1%A1%E9%9B%B7%E8%BE%BE%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86\/","datePublished":"2017-05-02T17:35:55\x2b08:00","dateModified":"2017-05-02T17:35:55\x2b08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"bugsuse","logo":{"@type":"ImageObject","url":"https:\/\/atmosai.github.io\/img\/res.png","width":127,"height":40}},"description":""}</script><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/css/lib/animate/animate.min.css></head><body><script>window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><nav class=navbar><div class=navbar-container><div class="navbar-header animated bounceIn"><a href=https://atmosai.github.io>bugsuse</a></div><div class=navbar-menu><a class=menu-item href=https://atmosai.github.io/posts>Posts</a><a class=menu-item href=https://atmosai.github.io/atmos>Atmos</a><a class=menu-item href=https://atmosai.github.io/model>Model</a><a class=menu-item href=https://atmosai.github.io/tools>Tools</a><a class=menu-item href=https://atmosai.github.io/tags>Tags</a><a class=menu-item href=https://atmosai.github.io/categories>Categories</a><a class=menu-item href=https://atmosai.github.io/friends>Friends</a><a class=menu-item href=https://atmosai.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><nav class=navbar-mobile><div class=navbar-container><div class=navbar-header><div class="navbar-header-title animated bounceIn"><a href=https://atmosai.github.io>bugsuse</a></div><div class=menu-toggle id=menu-toggle><span></span><span></span><span></span></div></div><div class=navbar-menu id=mobile-menu><a class=menu-item href=https://atmosai.github.io/posts>Posts</a><a class=menu-item href=https://atmosai.github.io/atmos>Atmos</a><a class=menu-item href=https://atmosai.github.io/model>Model</a><a class=menu-item href=https://atmosai.github.io/tools>Tools</a><a class=menu-item href=https://atmosai.github.io/tags>Tags</a><a class=menu-item href=https://atmosai.github.io/categories>Categories</a><a class=menu-item href=https://atmosai.github.io/friends>Friends</a><a class=menu-item href=https://atmosai.github.io/about>About</a><a href=javascript:void(0); class=theme-switch><i class="fas fa-adjust fa-rotate-180 fa-fw" title="Switch Theme"></i></a></div></div></nav><main class=main><div class=container><article class=page><h1 class="post-title animated flipInX">双偏振多普勒气象雷达数据处理</h1><div class=post-meta><div class=post-meta-main><a class=author href=http://i-lightning.cn rel=author target=_blank><i class="fas fa-user-circle fa-fw"></i>bugsuse
</a>&nbsp;<span class=post-category>included in&nbsp;<i class="far fa-folder fa-fw"></i><a href=https://atmosai.github.io/categories/tools/>Tools</a>&nbsp;<i class="far fa-folder fa-fw"></i><a href=https://atmosai.github.io/categories/atmos/>Atmos</a>&nbsp;</span></div><div class=post-meta-other><i class="far fa-calendar-alt fa-fw"></i><time datetime=2017-05-02>2017-05-02</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 1185 words&nbsp;
<i class="far fa-clock fa-fw"></i>3 min&nbsp;</div></div><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#读取流程>读取流程</a></li></ul></li></ul></nav></div></div><div class=post-toc-mobile id=post-toc-mobile><details><summary><div class=post-toc-title><span>Contents</span>
<span><i class="details icon fas fa-angle-down"></i></span></div></summary><div class=post-toc-content><nav id=TableOfContentsMobile><ul><li><ul><li><a href=#读取流程>读取流程</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>C波段双线偏振多普勒天气雷达是目前国内最先进的雷达系统，采用高相位稳定的全相参脉冲多普勒和同时发射同时接收的双线偏振体制，具有高增益低副瓣天线系统，大功率双路馈线和功率分配器，大功率全固态调制器速调管发射机，双路低噪声大动态线性范围接收机，高精度数字中频双偏振多普勒信号处理器和双偏振多普勒数据处理和显示终端，提供高精度双偏振强度和多普勒数据、丰富的多普勒应用软件产品和图形图像产品。通过双偏振技术的应用，对云和大气水凝结物的物理特性有了更深的了解，提高了雷达的测雨精度，提高了雷达对冰雹等大气水凝结物的识别能力，预报云内过冷水的出现，从而更准确地进行气象预报。</p><p>C波段双偏振多普勒雷达和S波段雷达在读取时有所不同。S波段雷达数据的存储均为int型，且存储数据均为4字节，但是C波段双偏振多普勒雷达存储数据时，不同的变量存储为不同的类型，而且字节大小也不同。因此，在读取时不能采取之前的方式，只能逐次读取。关于数据说明的具体信息查阅文档。</p><a class=post-dummy-target id=读取流程></a><h3>读取流程</h3><p>由于双偏振雷达的数据结构和S波段多普勒雷达的数据结构不同，因此，在确定读取流程之前，先看一下雷达数据的存储结构:</p><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src="https://github.com/bugsuse/blogpic/blob/master/2017/05/02/fig1.jpg?raw=true" alt class=lazyload></figure></p><p>存储的数据主要由：产品通用数据块和径向数据块构成，其中径向数据块由每一条径向数据构成。</p><p><strong>产品通用数据块</strong></p><p>存储了关于雷达站点的信息以及雷达所执行的任务类型等信息，对于正确读取数据非常重要。但是此部分并未包含任何产品数据。</p><p><strong>径向数据块</strong></p><p>由每一条径向所组成，每一条经向中包含了此径向的基本信息：<strong>径向状态</strong>，当前径向数，仰角数，<strong>仰角</strong>，<strong>方位角</strong>及moment数等信息，对于确定径向属于哪一次仰角的扫描至关重要。</p><p>其中所包含的 moment头信息中存储了相关产品的信息，对于产品解码及产品数据的大小非常重要。</p><p>当然，最后所存储的产品数据也是不能缺少的。</p><p>处理流程如下：</p><ul><li><p><strong>读取雷达站点信息</strong></p></li><li><p><strong>读取指定的仰角的信息</strong>
由于执行的某一仰角扫描时，仰角值存在一定误差，并不是固定值。因此，此处读取时通过指定cut数来读取。而cut相关信息全部存储在径向信息之前，在确定cut数之后，直接读取相应的cut信息，然后跳到第一条径向处，开始读取数据。</p></li><li><p><strong>读取指定的产品数据</strong>
为了确定读取到了指定的cut所对应的产品数据，需要确定径向状态。因为每一次仰角开始时径向状态是0（体扫开始时是3，即第一条径向），结束时是2（体扫结束是4，即最后一条径向）。通过记录径向开始的值出现的次数确定当前所读取的cut。</p></li><li><p><strong>然后就是读取每一条径向的指定产品数据</strong></p><p>为了确定指定产品数据，需要知道moment头信息中的 data type 值，然后和指定的产品类型值进行对比。关于产品类型值可以查看数据说明。</p></li><li><p><strong>最后，转换坐标为经纬度坐标</strong></p><p>大体的流程如上所述，可以对照<a href=https://pan.baidu.com/s/1kVE5JWr target=_blank>源代码</a>来看读取流程。(获取码:<code>6hdm</code>)</p><p>最后是读取后的效果图：</p><p><figure><img src=/svg/loading.min.svg data-sizes=auto data-src="https://github.com/bugsuse/blogpic/blob/master/2017/05/02/fig2.jpg?raw=true" alt class=lazyload></figure></p></li></ul><p>雷达数据基本都是二进制数据，在处理这类数据时一定要仔细阅读数据说明文档，对照数据说明文档进行处理。</p></div><br><h3>相关文章</h3><a href=https://atmosai.github.io/2018/04/2018-04-29-%E5%9F%BA%E4%BA%8E%E9%9B%B7%E8%BE%BE%E6%95%B0%E6%8D%AE%E7%9A%84%E9%A3%8E%E5%9C%BA%E5%8F%8D%E6%BC%94/>基于多普勒雷达数据的风场反演</a><div class=post-footer id=post-footer><div style="padding:10px 0;margin:20px auto;width:100%;font-size:16px;text-align:center"><button id=rewardButton disable=enable onclick="var qr=document.getElementById('QR');if(qr.style.display==='none'){qr.style.display='block';}else{qr.style.display='none'}">
<span>打赏</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=/img/Wechat.jpeg alt="WeChat Pay"></a><p>微信打赏</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=/img/Alipay.jpeg alt=Alipay></a><p>支付宝打赏</p></div></div></div><div class=post-info><div class=post-info-line><div class=post-info-mod><span>The article was updated on 2017-05-02</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href="//twitter.com/share?url=https%3a%2f%2fatmosai.github.io%2f2017%2f05%2f2017-05-02-%25E5%258F%258C%25E5%2581%258F%25E6%258C%25AF%25E5%25A4%259A%25E6%2599%25AE%25E5%258B%2592%25E6%25B0%2594%25E8%25B1%25A1%25E9%259B%25B7%25E8%25BE%25BE%25E6%2595%25B0%25E6%258D%25AE%25E5%25A4%2584%25E7%2590%2586%2f&text=%e5%8f%8c%e5%81%8f%e6%8c%af%e5%a4%9a%e6%99%ae%e5%8b%92%e6%b0%94%e8%b1%a1%e9%9b%b7%e8%be%be%e6%95%b0%e6%8d%ae%e5%a4%84%e7%90%86&via=xxxx" target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-fw"></i></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fatmosai.github.io%2f2017%2f05%2f2017-05-02-%25E5%258F%258C%25E5%2581%258F%25E6%258C%25AF%25E5%25A4%259A%25E6%2599%25AE%25E5%258B%2592%25E6%25B0%2594%25E8%25B1%25A1%25E9%259B%25B7%25E8%25BE%25BE%25E6%2595%25B0%25E6%258D%25AE%25E5%25A4%2584%25E7%2590%2586%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-fw"></i></a><a href="//reddit.com/submit?url=https%3a%2f%2fatmosai.github.io%2f2017%2f05%2f2017-05-02-%25E5%258F%258C%25E5%2581%258F%25E6%258C%25AF%25E5%25A4%259A%25E6%2599%25AE%25E5%258B%2592%25E6%25B0%2594%25E8%25B1%25A1%25E9%259B%25B7%25E8%25BE%25BE%25E6%2595%25B0%25E6%258D%25AE%25E5%25A4%2584%25E7%2590%2586%2f&title=%e5%8f%8c%e5%81%8f%e6%8c%af%e5%a4%9a%e6%99%ae%e5%8b%92%e6%b0%94%e8%b1%a1%e9%9b%b7%e8%be%be%e6%95%b0%e6%8d%ae%e5%a4%84%e7%90%86" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-fw"></i></a><a href="//service.weibo.com/share/share.php?url=https%3a%2f%2fatmosai.github.io%2f2017%2f05%2f2017-05-02-%25E5%258F%258C%25E5%2581%258F%25E6%258C%25AF%25E5%25A4%259A%25E6%2599%25AE%25E5%258B%2592%25E6%25B0%2594%25E8%25B1%25A1%25E9%259B%25B7%25E8%25BE%25BE%25E6%2595%25B0%25E6%258D%25AE%25E5%25A4%2584%25E7%2590%2586%2f&appkey=&title=%e5%8f%8c%e5%81%8f%e6%8c%af%e5%a4%9a%e6%99%ae%e5%8b%92%e6%b0%94%e8%b1%a1%e9%9b%b7%e8%be%be%e6%95%b0%e6%8d%ae%e5%a4%84%e7%90%86" target=_blank title="Share on Weibo"><i class="fab fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section><span class=tag><a href=https://atmosai.github.io/tags/python/><i class="fas fa-tag fa-fw"></i>&nbsp;python</a>&nbsp;
</span><span class=tag><a href=https://atmosai.github.io/tags/radar/><i class="fas fa-tag fa-fw"></i>&nbsp;radar</a>&nbsp;</span></section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=https://atmosai.github.io>Home</a></span></section></div><div class=post-nav><a href=https://atmosai.github.io/2017/04/2017-04-10-f2py-%E8%BF%9E%E6%8E%A5fortran%E5%92%8Cpython%E7%9A%84%E6%A1%A5%E6%A2%81/ class=prev rel=prev title=f2py:连接fortran和python的桥梁><i class="fas fa-angle-left fa-fw"></i>f2py:连接fortran和python的桥梁</a>
<a href=https://atmosai.github.io/2017/06/2017-06-01-%E5%9F%BA%E4%BA%8Epython%E7%9A%84wrf%E6%A8%A1%E5%BC%8F%E5%90%8E%E5%A4%84%E7%90%86/ class=next rel=next title=基于python的WRF模式后处理>基于python的WRF模式后处理<i class="fas fa-angle-right fa-fw"></i></a></div></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreffer">LoveIt<i class="far fa-heart fa-fw"></i></a></div><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2016 - 2020</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://atmosai.github.io target=_blank>bugsuse</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><a href=# class=dynamic-to-top id=dynamic-to-top data-scroll><span>&nbsp;</span>
</a><script src=/js/lib/jquery/jquery.slim.min.js></script><script src=/js/lib/lazysizes/lazysizes.min.js></script><script src=/js/lib/smooth-scroll/smooth-scroll.polyfills.min.js></script><script>window.scroll=new SmoothScroll('[data-scroll]',{speed:300,speedAsDuration:true});</script><script src=/js/blog.min.js></script></body></html>